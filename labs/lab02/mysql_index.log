mysql> create index users_first_name_second_name_index
    ->     on users (first_name, second_name);
Query OK, 0 rows affected (3.05 sec)
Records: 0  Duplicates: 0  Warnings: 0



mysql> SET @@explain_format=DEFAULT;
Query OK, 0 rows affected (0.00 sec)

mysql> EXPLAIN select * from users where first_name like 'Иван%' and second_name like 'Бес%';
+----+-------------+-------+------------+-------+------------------------------------+------------------------------------+---------+------+-------+----------+----------------------------------+
| id | select_type | table | partitions | type  | possible_keys                      | key                                | key_len | ref  | rows  | filtered | Extra                            |
+----+-------------+-------+------------+-------+------------------------------------+------------------------------------+---------+------+-------+----------+----------------------------------+
|  1 | SIMPLE      | users | NULL       | range | users_first_name_second_name_index | users_first_name_second_name_index | 517     | NULL | 37052 |    11.11 | Using index condition; Using MRR |
+----+-------------+-------+------------+-------+------------------------------------+------------------------------------+---------+------+-------+----------+----------------------------------+
1 row in set, 1 warning (0.00 sec)


hey -n 10 -c 1 -m GET 'http://localhost:8800/user/search?first_name=Иван&second_name=Бес'

Summary:
  Total:	0.0534 secs
  Slowest:	0.0064 secs
  Fastest:	0.0049 secs
  Average:	0.0053 secs
  Requests/sec:	187.4118
  

Response time histogram:
  0.005 [1]	|■■■■■■■■■■■■■
  0.005 [3]	|■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.005 [2]	|■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.005 [0]	|
  0.005 [2]	|■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.006 [0]	|
  0.006 [0]	|
  0.006 [0]	|
  0.006 [0]	|
  0.006 [0]	|
  0.006 [2]	|■■■■■■■■■■■■■■■■■■■■■■■■■■■


Latency distribution:
  10% in 0.0049 secs
  25% in 0.0050 secs
  50% in 0.0051 secs
  75% in 0.0063 secs
  90% in 0.0064 secs
  0% in 0.0000 secs
  0% in 0.0000 secs

Details (average, fastest, slowest):
  DNS+dialup:	0.0000 secs, 0.0049 secs, 0.0064 secs
  DNS-lookup:	0.0000 secs, 0.0000 secs, 0.0002 secs
  req write:	0.0000 secs, 0.0000 secs, 0.0000 secs
  resp wait:	0.0052 secs, 0.0048 secs, 0.0062 secs
  resp read:	0.0000 secs, 0.0000 secs, 0.0001 secs

Status code distribution:
  [200]	10 responses



hey -n 100 -c 10 -m GET 'http://localhost:8800/user/search?first_name=Иван&second_name=Бес'

Summary:
  Total:	0.1364 secs
  Slowest:	0.0399 secs
  Fastest:	0.0051 secs
  Average:	0.0117 secs
  Requests/sec:	733.3615
  

Response time histogram:
  0.005 [1]	|■
  0.009 [26]	|■■■■■■■■■■■■■■■■■■■■■■■■■
  0.012 [42]	|■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.016 [16]	|■■■■■■■■■■■■■■■
  0.019 [3]	|■■■
  0.022 [6]	|■■■■■■
  0.026 [3]	|■■■
  0.029 [1]	|■
  0.033 [1]	|■
  0.036 [0]	|
  0.040 [1]	|■


Latency distribution:
  10% in 0.0056 secs
  25% in 0.0082 secs
  50% in 0.0101 secs
  75% in 0.0140 secs
  90% in 0.0206 secs
  95% in 0.0253 secs
  99% in 0.0399 secs

Details (average, fastest, slowest):
  DNS+dialup:	0.0001 secs, 0.0051 secs, 0.0399 secs
  DNS-lookup:	0.0000 secs, 0.0000 secs, 0.0005 secs
  req write:	0.0000 secs, 0.0000 secs, 0.0002 secs
  resp wait:	0.0115 secs, 0.0050 secs, 0.0399 secs
  resp read:	0.0000 secs, 0.0000 secs, 0.0001 secs

Status code distribution:
  [200]	100 responses



hey -n 1000 -c 100 -m GET 'http://localhost:8800/user/search?first_name=Иван&second_name=Бес'
Summary:
  Total:	1.1261 secs
  Slowest:	0.9258 secs
  Fastest:	0.0050 secs
  Average:	0.0839 secs
  Requests/sec:	887.9856
  

Response time histogram:
  0.005 [1]	|
  0.097 [775]	|■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.189 [112]	|■■■■■■
  0.281 [42]	|■■
  0.373 [23]	|■
  0.465 [16]	|■
  0.557 [6]	|
  0.650 [6]	|
  0.742 [10]	|■
  0.834 [4]	|
  0.926 [5]	|


Latency distribution:
  10% in 0.0087 secs
  25% in 0.0139 secs
  50% in 0.0323 secs
  75% in 0.0866 secs
  90% in 0.2173 secs
  95% in 0.3598 secs
  99% in 0.7354 secs

Details (average, fastest, slowest):
  DNS+dialup:	0.0002 secs, 0.0050 secs, 0.9258 secs
  DNS-lookup:	0.0000 secs, 0.0000 secs, 0.0019 secs
  req write:	0.0001 secs, 0.0000 secs, 0.0027 secs
  resp wait:	0.0836 secs, 0.0049 secs, 0.9257 secs
  resp read:	0.0000 secs, 0.0000 secs, 0.0003 secs

Status code distribution:
  [200]	1000 responses



hey -n 3000 -c 1000 -t 0 -m GET 'http://localhost:8800/user/search?first_name=Иван&second_name=Бес'

Summary:
  Total:	3.4099 secs
  Slowest:	3.3577 secs
  Fastest:	0.0049 secs
  Average:	0.7616 secs
  Requests/sec:	879.7935
  

Response time histogram:
  0.005 [1]	|
  0.340 [1186]	|■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
  0.675 [558]	|■■■■■■■■■■■■■■■■■■■
  1.011 [393]	|■■■■■■■■■■■■■
  1.346 [267]	|■■■■■■■■■
  1.681 [203]	|■■■■■■■
  2.017 [137]	|■■■■■
  2.352 [93]	|■■■
  2.687 [73]	|■■
  3.022 [58]	|■■
  3.358 [31]	|■


Latency distribution:
  10% in 0.0422 secs
  25% in 0.1712 secs
  50% in 0.5103 secs
  75% in 1.1308 secs
  90% in 1.9137 secs
  95% in 2.4300 secs
  99% in 3.0357 secs

Details (average, fastest, slowest):
  DNS+dialup:	0.0093 secs, 0.0049 secs, 3.3577 secs
  DNS-lookup:	0.0062 secs, 0.0000 secs, 0.0862 secs
  req write:	0.0014 secs, 0.0000 secs, 0.0529 secs
  resp wait:	0.7445 secs, 0.0049 secs, 3.3091 secs
  resp read:	0.0003 secs, 0.0000 secs, 0.0522 secs

Status code distribution:
  [200]	3000 responses



