## Инструкция к запуску 1-го задания курса [OTUS «Highload Architect»]

---
Стек: golang 1.20, postgres и mysql 

Работа приложения не зависит от СУБД: обращение к хранилищу реализовано через интерфейсы

## Подготовка:
1) В mysql и postgres создать по БД snet(лучше указать это название БД, чтобы не менять его в файле конфигурации) и пользователей для работы с ней (дать права этим пользователям на БД). Желательно чтобы имя пользователя и пароль были равны socialnet, не придется менять их значение в файле Makefile
2) Загрузить дампы из папки ./sql-dumps
3) Для запуска приложения используются файлы конфигурации, размещенные в папке configs: server.mysql.yaml  server.pgsql.yaml. По идее все нативно понятно, есть комментарии.
4) Имя БД берется из файла конфигурации. Пользователь и пароль из переменных окружения, которые определяются в файле конфигурации
```
#due security reasons, service gets username and password for database from env settings
env:
  dbuser: SOCIALNET_DB_USER
  dbpass: SOCIALNET_DB_PASS

```

## Запуск:

В файле Makefile прописаны переменные окружения(SOCIALNET_DB_USER и SOCIALNET_DB_PASS), которые требуется установить, если они отличные от требуемых значений в п.1 Подготовки
1) Тесты   make test-mysql / test-pgsql – запускают подготовленные  тесты
2) Запуск make run-mysql / run-pgsql – запуск приложения с одной или с другой БД.Запуск конечно не идиоматичен(из Makefile), но работает :)



Выполнил ДЗ:
- [Евгений Филаткин](https://github.com/filatkinen)